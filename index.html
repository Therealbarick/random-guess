<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Guess Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .points {
            font-size: 1.2rem;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="container text-center mt-5">
        <div class="alert alert-primary" role="alert">
            <h1>Random Guess Game</h1>
        </div>
        <div class="points">
            <p id="points-message">Points: 100</p>
        </div>
        <div class="d-flex justify-content-center">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">Input Your Number between 1 and 100</h5>
                    <input type="number" id="user-input" class="form-control" min="1" max="100">
                    <button class="btn btn-primary mt-2" id="submit-btn" onclick="guessNum()">Submit Guess</button>
                    <button class="btn btn-secondary mt-2" id="try-again-btn" onclick="resetGame()" style="display:none;">Try Again</button>
                </div>
            </div>
        </div>
        <div class="mt-3">
            <p id="result-message"></p>
        </div>
    </div>

    <script>
        let randomNumber = Math.floor(Math.random() * 100) + 1;
        let points = 100;

        function updatePoints() {
            document.getElementById('points-message').innerText = `Points: ${points}`;
        }

        function guessNum() {
            const guess = Number(document.getElementById('user-input').value);
            const resultMessage = document.getElementById('result-message');
            const submitBtn = document.getElementById('submit-btn');
            const inputField = document.getElementById('user-input');
            const tryAgainBtn = document.getElementById('try-again-btn');
            const difference = Math.abs(guess - randomNumber);

            // Deduct points for each guess
            points -= 2;
            updatePoints();

            if (points <= 0) {
                resultMessage.innerText = "Game over! You've run out of points.";
                resultMessage.className = "text-danger";
                document.body.style.backgroundColor = "black"; // Set background to black when out of points
                inputField.disabled = true;
                submitBtn.disabled = true;
                tryAgainBtn.style.display = 'block'; // Show the try again button
                return;
            }

            // Disable input and button after the first guess
            inputField.disabled = true;
            submitBtn.disabled = true;
            tryAgainBtn.style.display = 'block'; // Show the try again button

            if (guess === randomNumber) {
                let finalPoints;
                if (difference <= 5) {
                    finalPoints = points * 10; // Multiplier 10x for difference <= 5
                } else if (difference <= 10) {
                    finalPoints = points * 4; // Multiplier 4x for difference <= 10
                } else if (difference <= 20) {
                    finalPoints = points * 2; // Multiplier 2x for difference <= 20
                } else {
                    finalPoints = points; // No multiplier
                }
                resultMessage.innerText = `Congratulations! You guessed it right! You got ${finalPoints} points.`;
                resultMessage.className = "text-success";
                document.body.style.backgroundColor = "blue"; // Set background to blue for correct guess
            } else if (guess < randomNumber) {
                const neededMore = randomNumber - guess;
                resultMessage.innerText = `Your guess was low! You need more ${neededMore}.`;
                if (neededMore <= 5) {
                    document.body.style.backgroundColor = "#ff0000"; // #ff0000 for difference 1-5
                } else if (neededMore <= 10) {
                    document.body.style.backgroundColor = "#FFC300"; // #FFC300 for difference 6-10
                } else if (neededMore <= 20) {
                    document.body.style.backgroundColor = "#FF5733"; // #FF5733 for difference 11-20
                } else if (neededMore <= 30) {
                    document.body.style.backgroundColor = "#C70039"; // #C70039 for difference 21-30
                } else if (neededMore <= 40) {
                    document.body.style.backgroundColor = "#900C3F"; // #900C3F for difference 31-40
                } else {
                    document.body.style.backgroundColor = "#581845"; // #581845 for difference 41-49
                }
            } else {
                const neededLess = guess - randomNumber;
                resultMessage.innerText = `Your guess was high! You need less ${neededLess}.`;
                if (neededLess <= 5) {
                    document.body.style.backgroundColor = "#00FFFF"; // #00FFFF for difference 1-5
                } else if (neededLess <= 10) {
                    document.body.style.backgroundColor = "#008080"; // #008080 for difference 6-10
                } else if (neededLess <= 20) {
                    document.body.style.backgroundColor = "#FF00FF"; // #FF00FF for difference 11-20
                } else if (neededLess <= 30) {
                    document.body.style.backgroundColor = "#800080"; // #800080 for difference 21-30
                } else if (neededLess <= 40) {
                    document.body.style.backgroundColor = "#008000"; // #008000 for difference 31-40
                } else {
                    document.body.style.backgroundColor = "#00FF00"; // #00FF00 for difference 41-49
                }
            }
        }

        function resetGame() {
            randomNumber = Math.floor(Math.random() * 100) + 1;
            points = 100;
            document.getElementById('user-input').value = '';
            document.getElementById('result-message').innerText = '';
            document.getElementById('user-input').disabled = false;
            document.getElementById('submit-btn').disabled = false;
            document.getElementById('try-again-btn').style.display = 'none'; // Hide the try again button
            document.body.style.backgroundColor = ""; // Reset background color
            updatePoints();
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
